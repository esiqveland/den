#!/bin/bash

# curl -X POST -d '{"images":["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"]}' http://localhost:1234/post/new
if [ -z $1 ] ; then
  echo -e "Usage: ${0} [filename]"
  exit -1
fi

url="http://localhost:1234/post/new"
DATA=$(base64 -w 0 $1)

json="{ \"images\": [ \"${DATA}\" ] }"

echo "'${json}'"
cmd="curl -X POST -d '${json}' '${url}'"

curl -X POST -d "${json}" ${url}
#out=$(${cmd})

# echo ${out}
